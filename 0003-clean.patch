From 347a9ac335c68a52bfc0cdeefc22189ab6588da0 Mon Sep 17 00:00:00 2001
From: Thanaphon <top.thanaphon@gmail.com>
Date: Fri, 25 Jun 2021 16:05:56 +0700
Subject: [PATCH 3/3] clean

---
 package-lock.json              | 112 +++++++++++++++++++++++++++++++++
 package.json                   |   1 +
 src/Main.tsx                   |   3 +-
 src/components/PokemonItem.tsx |  15 +++--
 src/tests/pokemon_type.test.js |  31 ---------
 yarn.lock                      |  25 +++++++-
 6 files changed, 149 insertions(+), 38 deletions(-)
 delete mode 100644 src/tests/pokemon_type.test.js

diff --git a/package-lock.json b/package-lock.json
index ec502c5..b1fffc2 100644
--- a/package-lock.json
+++ b/package-lock.json
@@ -4,6 +4,87 @@
   "lockfileVersion": 1,
   "requires": true,
   "dependencies": {
+    "@apollo/client": {
+      "version": "3.3.20",
+      "resolved": "https://registry.npmjs.org/@apollo/client/-/client-3.3.20.tgz",
+      "integrity": "sha512-hS7UmBwJweudw/J3M0RAcusMHNiRuGqkRH6g91PM2ev8cXScIMdXr/++9jo7wD1nAITMCMF4HQQ3LFaw/Or0Bw==",
+      "requires": {
+        "@graphql-typed-document-node/core": "^3.0.0",
+        "@types/zen-observable": "^0.8.0",
+        "@wry/context": "^0.6.0",
+        "@wry/equality": "^0.5.0",
+        "fast-json-stable-stringify": "^2.0.0",
+        "graphql-tag": "^2.12.0",
+        "hoist-non-react-statics": "^3.3.2",
+        "optimism": "^0.16.0",
+        "prop-types": "^15.7.2",
+        "symbol-observable": "^4.0.0",
+        "ts-invariant": "^0.7.0",
+        "tslib": "^1.10.0",
+        "zen-observable": "^0.8.14"
+      },
+      "dependencies": {
+        "@wry/context": {
+          "version": "0.6.0",
+          "resolved": "https://registry.npmjs.org/@wry/context/-/context-0.6.0.tgz",
+          "integrity": "sha512-sAgendOXR8dM7stJw3FusRxFHF/ZinU0lffsA2YTyyIOfic86JX02qlPqPVqJNZJPAxFt+2EE8bvq6ZlS0Kf+Q==",
+          "requires": {
+            "tslib": "^2.1.0"
+          },
+          "dependencies": {
+            "tslib": {
+              "version": "2.3.0",
+              "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.3.0.tgz",
+              "integrity": "sha512-N82ooyxVNm6h1riLCoyS9e3fuJ3AMG2zIZs2Gd1ATcSFjSA23Q0fzjjZeh0jbJvWVDZ0cJT8yaNNaaXHzueNjg=="
+            }
+          }
+        },
+        "@wry/equality": {
+          "version": "0.5.1",
+          "resolved": "https://registry.npmjs.org/@wry/equality/-/equality-0.5.1.tgz",
+          "integrity": "sha512-FZKbdpbcVcbDxQrKcaBClNsQaMg9nof1RKM7mReJe5DKUzM5u8S7T+PqwNqvib5O2j2xxF1R4p5O3+b6baTrbw==",
+          "requires": {
+            "tslib": "^2.1.0"
+          },
+          "dependencies": {
+            "tslib": {
+              "version": "2.3.0",
+              "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.3.0.tgz",
+              "integrity": "sha512-N82ooyxVNm6h1riLCoyS9e3fuJ3AMG2zIZs2Gd1ATcSFjSA23Q0fzjjZeh0jbJvWVDZ0cJT8yaNNaaXHzueNjg=="
+            }
+          }
+        },
+        "optimism": {
+          "version": "0.16.1",
+          "resolved": "https://registry.npmjs.org/optimism/-/optimism-0.16.1.tgz",
+          "integrity": "sha512-64i+Uw3otrndfq5kaoGNoY7pvOhSsjFEN4bdEFh80MWVk/dbgJfMv7VFDeCT8LxNAlEVhQmdVEbfE7X2nWNIIg==",
+          "requires": {
+            "@wry/context": "^0.6.0",
+            "@wry/trie": "^0.3.0"
+          }
+        },
+        "symbol-observable": {
+          "version": "4.0.0",
+          "resolved": "https://registry.npmjs.org/symbol-observable/-/symbol-observable-4.0.0.tgz",
+          "integrity": "sha512-b19dMThMV4HVFynSAM1++gBHAbk2Tc/osgLIBZMKsyqh34jb2e8Os7T6ZW/Bt3pJFdBTd2JwAnAAEQV7rSNvcQ=="
+        },
+        "ts-invariant": {
+          "version": "0.7.5",
+          "resolved": "https://registry.npmjs.org/ts-invariant/-/ts-invariant-0.7.5.tgz",
+          "integrity": "sha512-qfVyqTYWEqADMtncLqwpUdMjMSXnsqOeqGtj1LeJNFDjz8oqZ1YxLEp29YCOq65z0LgEiERqQ8ThVjnfibJNpg==",
+          "requires": {
+            "tslib": "^2.1.0"
+          },
+          "dependencies": {
+            "tslib": {
+              "version": "2.3.0",
+              "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.3.0.tgz",
+              "integrity": "sha512-N82ooyxVNm6h1riLCoyS9e3fuJ3AMG2zIZs2Gd1ATcSFjSA23Q0fzjjZeh0jbJvWVDZ0cJT8yaNNaaXHzueNjg=="
+            }
+          }
+        }
+      }
+    },
     "@apollo/react-common": {
       "version": "3.1.4",
       "resolved": "https://registry.npmjs.org/@apollo/react-common/-/react-common-3.1.4.tgz",
@@ -2138,6 +2219,19 @@
         "@testing-library/dom": "^7.28.1"
       }
     },
+    "@testing-library/react-hooks": {
+      "version": "7.0.0",
+      "resolved": "https://registry.npmjs.org/@testing-library/react-hooks/-/react-hooks-7.0.0.tgz",
+      "integrity": "sha512-WFBGH8DWdIGGBHt6PBtQPe2v4Kbj9vQ1sQ9qLBTmwn1PNggngint4MTE/IiWCYhPbyTW3oc/7X62DObMn/AjQQ==",
+      "dev": true,
+      "requires": {
+        "@babel/runtime": "^7.12.5",
+        "@types/react": ">=16.9.0",
+        "@types/react-dom": ">=16.9.0",
+        "@types/react-test-renderer": ">=16.9.0",
+        "react-error-boundary": "^3.1.0"
+      }
+    },
     "@testing-library/user-event": {
       "version": "12.8.3",
       "resolved": "https://registry.npmjs.org/@testing-library/user-event/-/user-event-12.8.3.tgz",
@@ -2397,6 +2491,15 @@
         }
       }
     },
+    "@types/react-test-renderer": {
+      "version": "17.0.1",
+      "resolved": "https://registry.npmjs.org/@types/react-test-renderer/-/react-test-renderer-17.0.1.tgz",
+      "integrity": "sha512-3Fi2O6Zzq/f3QR9dRnlnHso9bMl7weKCviFmfF6B4LS1Uat6Hkm15k0ZAQuDz+UBq6B3+g+NM6IT2nr5QgPzCw==",
+      "dev": true,
+      "requires": {
+        "@types/react": "*"
+      }
+    },
     "@types/react-transition-group": {
       "version": "4.4.1",
       "resolved": "https://registry.npmjs.org/@types/react-transition-group/-/react-transition-group-4.4.1.tgz",
@@ -11838,6 +11941,15 @@
         "scheduler": "^0.20.2"
       }
     },
+    "react-error-boundary": {
+      "version": "3.1.3",
+      "resolved": "https://registry.npmjs.org/react-error-boundary/-/react-error-boundary-3.1.3.tgz",
+      "integrity": "sha512-A+F9HHy9fvt9t8SNDlonq01prnU8AmkjvGKV4kk8seB9kU3xMEO8J/PQlLVmoOIDODl5U2kufSBs4vrWIqhsAA==",
+      "dev": true,
+      "requires": {
+        "@babel/runtime": "^7.12.5"
+      }
+    },
     "react-error-overlay": {
       "version": "6.0.9",
       "resolved": "https://registry.npmjs.org/react-error-overlay/-/react-error-overlay-6.0.9.tgz",
diff --git a/package.json b/package.json
index 51cf7f2..27efff1 100644
--- a/package.json
+++ b/package.json
@@ -57,6 +57,7 @@
     ]
   },
   "devDependencies": {
+    "@testing-library/react-hooks": "^7.0.0",
     "@types/enzyme": "^3.10.8",
     "@types/react": "^17.0.11"
   }
diff --git a/src/Main.tsx b/src/Main.tsx
index 09e2018..07d1086 100644
--- a/src/Main.tsx
+++ b/src/Main.tsx
@@ -15,9 +15,10 @@ export  const MainPage : React.FC<IMain>=(props)=>{
     return(
         <Container>
             <Header/>
+        
             <PokemonItem/>
        
-            {/* {console.log(pokemon.name)} */}
+
         </Container>
     )
 }
\ No newline at end of file
diff --git a/src/components/PokemonItem.tsx b/src/components/PokemonItem.tsx
index 554a646..176d1e8 100644
--- a/src/components/PokemonItem.tsx
+++ b/src/components/PokemonItem.tsx
@@ -1,24 +1,29 @@
 import React,{ useEffect, useState } from 'react'
 import { GET_POKEMONS, GET_POKEMONS_NAME } from '../graphql/get-pokemon'
-import { useQuery } from 'react-apollo'
+import {  useQuery } from 'react-apollo'
 import { PokemonCard } from './PokemonCard'
 import { Form  } from "react-bootstrap";
-
 import '../scss/pokemon_item.scss'
 
+
+
+
+
 export const PokemonItem:React.FC =(props)=>{
     const [input, setInput] = useState<string>('')
     const [loading, setLoading] = useState<boolean>(false)
     const {data:{pokemons=[]}={}} =useQuery(GET_POKEMONS,{variables:{first:151}})
     const {data:{pokemon={}}={}} =useQuery(GET_POKEMONS_NAME,{variables:{name:input}})
-      
-   
+  
+
 const formOnchange= (e:React.ChangeEvent<HTMLInputElement>)=>{
     
  setInput(e.target.value)
 
 }
 
+
+
 useEffect(() => {
   
         setLoading(true)
@@ -59,7 +64,7 @@ return(
 
 
     <div>
-        <p className="test">Hello</p>
+       
       <Form >
           <div className="search-wrap"> 
             <Form.Group  controlId="formBasicName">
diff --git a/src/tests/pokemon_type.test.js b/src/tests/pokemon_type.test.js
deleted file mode 100644
index 5b4b6aa..0000000
--- a/src/tests/pokemon_type.test.js
+++ /dev/null
@@ -1,31 +0,0 @@
-import { MockedProvider } from "@apollo/react-testing";
-import { GET_POKEMONS_NAME_TEST } from "../graphql/get-pokemon";
-import React from "react";
-import { act, createRenderer } from "react-dom/test-utils";
-import {PokemonTest} from '../components/PokemonTest';
-
-import { render,cleanup } from "@testing-library/react";
-import TestRenderer from "react-test-renderer";
-
-
-const mockPokemonData ={
-    request:{
-        query: GET_POKEMONS_NAME_TEST
-    },
-    result:{
-        data:{
-            pokemon:{
-                name:"Bulbasaur",
-                types:["Grass","Poison"]
-            }
-        }
-    }
-}
-afterEach(cleanup)
-
-it("test pokemon type",async ()=>{
-
-   test("pokemon type")
-    const tree = component.toJSON();
-    expect(tree.children).toContain('Loading...');
-})
diff --git a/yarn.lock b/yarn.lock
index 7df104a..de0fe4b 100644
--- a/yarn.lock
+++ b/yarn.lock
@@ -2469,7 +2469,7 @@
     lodash "^4.17.15"
     redent "^3.0.0"
 
-"@testing-library/react@^11.1.0":
+"@testing-library/react@^11.2.7":
   version "11.2.7"
   resolved "https://registry.yarnpkg.com/@testing-library/react/-/react-11.2.7.tgz#b29e2e95c6765c815786c0bc1d5aed9cb2bf7818"
   integrity sha512-tzRNp7pzd5QmbtXNG/mhdcl7Awfu/Iz1RaVHY75zTdOkmHCuzMhRL83gWHSgOAcjS3CCbyfwUHMZgRJb4kAfpA==
@@ -10780,6 +10780,11 @@ react-error-overlay@^6.0.9:
   resolved "https://registry.yarnpkg.com/react-error-overlay/-/react-error-overlay-6.0.9.tgz#3c743010c9359608c375ecd6bc76f35d93995b0a"
   integrity sha512-nQTTcUu+ATDbrSD1BZHr5kgSD4oF8OFjxun8uAaL8RwPBacGBNPf/yAuVVdx17N8XNzRDMrZ9XcKZHCjPW+9ew==
 
+"react-is@^16.12.0 || ^17.0.0", react-is@^17.0.2:
+  version "17.0.2"
+  resolved "https://registry.yarnpkg.com/react-is/-/react-is-17.0.2.tgz#e691d4a8e9c789365655539ab372762b0efb54f0"
+  integrity sha512-w2GsyukL62IJnlaff/nRegPQR94C/XXamvMWmSHRJ4y7Ts/4ocGRmTHvOs8PSE6pB3dWOrD/nueuU5sduBsQ4w==
+
 react-is@^16.3.2, react-is@^16.7.0, react-is@^16.8.1:
   version "16.13.1"
   resolved "https://registry.yarnpkg.com/react-is/-/react-is-16.13.1.tgz#789729a4dc36de2999dc156dd6c1d9c18cea56a4"
@@ -10880,6 +10885,24 @@ react-scripts@4.0.3:
   optionalDependencies:
     fsevents "^2.1.3"
 
+react-shallow-renderer@^16.13.1:
+  version "16.14.1"
+  resolved "https://registry.yarnpkg.com/react-shallow-renderer/-/react-shallow-renderer-16.14.1.tgz#bf0d02df8a519a558fd9b8215442efa5c840e124"
+  integrity sha512-rkIMcQi01/+kxiTE9D3fdS959U1g7gs+/rborw++42m1O9FAQiNI/UNRZExVUoAOprn4umcXf+pFRou8i4zuBg==
+  dependencies:
+    object-assign "^4.1.1"
+    react-is "^16.12.0 || ^17.0.0"
+
+react-test-renderer@^17.0.2:
+  version "17.0.2"
+  resolved "https://registry.yarnpkg.com/react-test-renderer/-/react-test-renderer-17.0.2.tgz#4cd4ae5ef1ad5670fc0ef776e8cc7e1231d9866c"
+  integrity sha512-yaQ9cB89c17PUb0x6UfWRs7kQCorVdHlutU1boVPEsB8IDZH6n9tHxMacc3y0JoXOJUsZb/t/Mb8FUWMKaM7iQ==
+  dependencies:
+    object-assign "^4.1.1"
+    react-is "^17.0.2"
+    react-shallow-renderer "^16.13.1"
+    scheduler "^0.20.2"
+
 react-testing-library@^8.0.1:
   version "8.0.1"
   resolved "https://registry.yarnpkg.com/react-testing-library/-/react-testing-library-8.0.1.tgz#b3dd43bce3fa88423cf0a23292fb819023c227cc"
-- 
2.31.1

